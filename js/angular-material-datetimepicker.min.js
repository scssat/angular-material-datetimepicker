!function(a){"use strict";var b="ngMaterialDatePicker",c={DATE:0,HOUR:1,MINUTE:2},d=function(a,b){return"jQuery"in window?jQuery(a).css(b):(a=angular.element(a),"getComputedStyle"in window?window.getComputedStyle(a[0])[b]:a.css(b))},e='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                     <div layout="row">                       <div ng-click="picker.incrementMonth(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousMonthVisible()" >&#x25B2;</span></div>                       <div class="dtp-actual-month" flex>{{picker.currentDate.format("MMM") | uppercase}}</div>                       <div ng-click="picker.incrementMonth(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextMonthVisible()" >&#x25BC;</span></div></div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker" ng-if="!picker.params.monthPicker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(b,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(a){this.locale=a}}).directive("mdcDatetimePicker",["$mdDialog",function(b){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",monthPicker:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(c,d,g,h){var i=!1;c.format||(c.date&&c.time?c.format="YYYY-MM-DD HH:mm:ss":c.date?c.format="YYYY-MM-DD":c.format="HH:mm"),angular.isString(c.currentDate)&&""!==c.currentDate&&(c.currentDate=a(c.currentDate,c.format)),h&&h.$formatters.push(function(b){if("undefined"!=typeof b){var d=a(b);return d.isValid()?d.format(c.format):""}}),d.attr("readonly",""),d.on("focus",function(a){if(a.preventDefault(),d.blur(),!i){i=!0;var h={};for(var j in g)c.hasOwnProperty(j)&&!angular.isUndefined(c[j])&&(h[j]=c[j]);h.currentDate=c.currentDate;var k={options:h};b.show({template:e,controller:f,controllerAs:"picker",locals:k,openFrom:d,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1,skipHide:!0}).then(function(a){c.currentDate=a?a._d:a,i=!1},function(){i=!1})}})}}}]);var f=function(a,b,d){this.currentView=c.DATE,this._dialog=b,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=c,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:d,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};f.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],f.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var b=this.currentDate||a(),c=5*Math.round(b.minute()/5);return c>=60&&(c=55),a(b).minutes(c)},initDates:function(){var b=this,c=function(c,d){var e=null;if(angular.isDefined(c)&&null!==c&&""!==c)if(angular.isString(c))e="undefined"!=typeof b.params.format&&null!==b.params.format?a(c,b.params.format).locale(b.params.lang):a(c).locale(b.params.lang);else if(angular.isDate(c)){var f=c.getTime();e=a(f,"x").locale(b.params.lang)}else c._isAMomentObject&&(e=c);else e=d;return e};this.currentDate=c(this.params.currentDate,a()),this.minDate=c(this.params.minDate),this.maxDate=c(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(a){this.currentView=c.DATE},initHours:function(){this.currentView=c.HOUR},initMinutes:function(){this.currentView=c.MINUTE},isAfterMinDate:function(b,c,d){var e=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var f=a(this.minDate),g=a(b);c||d||(f.hour(0),f.minute(0),g.hour(0),g.minute(0)),f.second(0),g.second(0),f.millisecond(0),g.millisecond(0),d?e=parseInt(g.format("X"))>=parseInt(f.format("X")):(g.minute(0),f.minute(0),e=parseInt(g.format("X"))>=parseInt(f.format("X")))}return e},isBeforeMaxDate:function(b,c,d){var e=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var f=a(this.maxDate),g=a(b);c||d||(f.hour(0),f.minute(0),g.hour(0),g.minute(0)),f.second(0),g.second(0),f.millisecond(0),g.millisecond(0),d?e=parseInt(g.format("X"))<=parseInt(f.format("X")):(g.minute(0),f.minute(0),e=parseInt(g.format("X"))<=parseInt(f.format("X")))}return e},selectDate:function(b){b&&(this.currentDate=a(b),this.isAfterMinDate(this.currentDate)||(this.currentDate=a(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=a(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=a(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<5;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},isPM:function(){return"PM"===this.meridien},incrementYear:function(a){1===a&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add(a,"year")),a===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add(a,"year"))},incrementMonth:function(a){this.selectDate(this.currentDate.add(a,"month"))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(a(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(a(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(a(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(a(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(b){var c=a(this.currentDate);return c.hour(this.convertHours(b)).minute(0).second(0),this.isAfterMinDate(c,!0,!1)&&this.isBeforeMaxDate(c,!0,!1)},isMinuteAvailable:function(b){var c=a(this.currentDate);return c.minute(b).second(0),this.isAfterMinDate(c,!0,!0)&&this.isBeforeMaxDate(c,!0,!0)},start:function(){this.currentView=c.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case c.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case c.HOUR:this.initMinutes();break;case c.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case c.DATE:this.hide();break;case c.HOUR:this.params.date?this.initDate():this.hide();break;case c.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(a){var b=a;return a<12&&this.isPM()&&(b+=12),b},hide:function(a){a?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(b).directive("mdcDatetimePickerCalendar",[function(){for(var b=1900,c=2100,d=12*(c-b+1),e=240,f=[],g=0;g<d;g++)f.push(g);var h=function(a){var c=a.year(),d=a.month();return 12*(c-b)+d-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(c){for(var e=this,g=this.picker,i=[],j=g.params.weekStart;i.length<7;j++)j>6&&(j=0),i.push(j.toString());if(e.week=i,g.maxDate||g.minDate){var k=g.minDate?h(g.minDate):0,l=g.maxDate?h(g.maxDate)+1:d;e.months=f.slice(k,l)}else e.months=f;e.getItemAtIndex=function(c){var d=(c+1)%12||12,e=b+Math.floor(c/12),f=a(g.currentDate).year(e).month(d);return m(f)},e.topIndex=h(g.currentDate)-e.months[0],c.$watch(function(){return g.currentDate?g.currentDate.format("YYYY-MM"):""},function(b,c){if(b!=c){var d=a(b,"YYYY-MM"),f=h(d)-e.months[0];e.topIndex!=f&&(e.topIndex=f)}});var m=function(b){var c={};if(null!==b){c.name=b.format("MMMM YYYY");var d=a(b).locale(g.params.lang).startOf("month").hour(b.hour()).minute(b.minute()),f=d.format("d");c.days=[];for(var h=d.date();h<=d.daysInMonth();h++){if(h===d.date()){var i=e.week.indexOf(f.toString());if(i>0)for(var j=0;j<i;j++)c.days.push(0)}c.days.push(a(d).locale(g.params.lang).date(h))}for(var k=7,l=[],m=Math.ceil(c.days.length/k),n=0;n<m;n++)l.push(c.days.slice(n*k,(n+1)*k));return c.days=l,c}};e.toDay=function(b){return a(parseInt(b),"d").locale(g.params.lang).format("dd").substring(0,1)},e.isInRange=function(b){return g.isAfterMinDate(a(b),!1,!1)&&g.isBeforeMaxDate(a(b),!1,!1)},e.selectDate=function(b){if(b){if(e.isSelectedDay(b))return g.ok();g.selectDate(a(b).hour(e.date.hour()).minute(e.date.minute()))}},e.isSelectedDay=function(a){return a&&e.date.date()===a.date()&&e.date.month()===a.month()&&e.date.year()===a.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+e+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(a){var b=function(b,c){var d=angular.element(b[0].querySelector("tbody")),e=c.cal,f=c.month;d.html(""),f.days.forEach(function(a,b){var c=angular.element("<tr></tr>");a.forEach(function(a,d){var f=angular.element("<td> </td>");if(a){var g;if(e.isInRange(a)){var h='month["days"]['+b+"]["+d+"]";g=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+h+")}").attr("ng-click","cal.selectDate("+h+")")}else g=angular.element("<span></span>");g.addClass("dtp-select-day").html(a.format("D")),f.append(g)}c.append(f)}),d.append(c)}),a(d)(c)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(a,c,d,e){a.cal=e,a.month=e.getItemAtIndex(parseInt(a.idx)),b(c,a),a.$watch(function(){return a.idx},function(d,f){d!=f&&(a.month=e.getItemAtIndex(parseInt(a.idx)),b(c,a))})}}}]),angular.module(b).directive("mdcDtpNoclick",function(){return{link:function(a,b){b.on("click",function(a){a.preventDefault()})}}}),angular.module(b).directive("mdcDatetimePickerClock",[function(){var a='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" ng-style="point.style">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:a,link:function(a,b,c){var e="minutes"===c.mode,f=a.picker,g=document.querySelector("md-dialog.dtp"),h=function(){var c=angular.element(b[0].querySelector(".dtp-picker-clock")),h=angular.element(g.querySelector(".dtp-picker")),j=g.querySelector(".dtp-content").offsetWidth,l=parseInt(d(h,"paddingLeft").replace("px",""))||0,m=parseInt(d(h,"paddingRight").replace("px",""))||0,n=parseInt(d(c,"marginLeft").replace("px",""))||0,o=parseInt(d(c,"marginRight").replace("px",""))||0,p=j-(n+o+l+m);c.css("width",p+"px");for(var q=parseInt(d(h,"paddingLeft").replace("px",""))||0,r=parseInt(d(h,"paddingTop").replace("px",""))||0,s=parseInt(d(c,"marginLeft").replace("px",""))||0,t=parseInt(d(c,"marginTop").replace("px",""))||0,u=p/2,v=u/1.2,w=[],x=0;x<12;++x){var y=v*Math.sin(2*Math.PI*(x/12)),z=v*Math.cos(2*Math.PI*(x/12)),A=u+y+q/2-(q+s),B=u-z-t/2-(r+t),C={value:e?5*x:x,style:{"margin-left":A+"px","margin-top":B+"px"}};e?C.display=C.value<10?"0"+C.value:C.value:f.params.shortTime?C.display=0===x?12:x:C.display=f.isPM()?x+12:x,w.push(C)}a.points=w,k(),c.css("height",p+"px");var D=b[0].querySelector(".dtp-clock-center"),E=D.offsetWidth/2||7.5,F=D.offsetHeight/2||7.5,G=u/1.8,H=u/1.5;angular.element(b[0].querySelector(".dtp-hour-hand")).css({left:u+1.5*s+"px",height:G+"px",marginTop:u-G-q+"px"}).addClass(e?"":"on"),angular.element(b[0].querySelector(".dtp-minute-hand")).css({left:u+1.5*s+"px",height:H+"px",marginTop:u-H-q+"px"}).addClass(e?"on":""),angular.element(D).css({left:u+q+s-E+"px",marginTop:u-s/2-F+"px"}),i()},i=function(){var a=f.currentNearest5Minute(),c=a.hour(),d=a.minute();j(angular.element(b[0].querySelector(".dtp-hour-hand")),30*c);var e=6*(5*Math.round(d/5));j(angular.element(b[0].querySelector(".dtp-minute-hand")),e)},j=function(a,b){angular.element(a).css({WebkitTransform:"rotate("+b+"deg)","-moz-transform":"rotate("+b+"deg)","-ms-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"})},k=function(){var b=f.currentNearest5Minute();a.currentValue=e?b.minute():b.hour()%12};a.$watch(function(){var a=f.currentNearest5Minute();return a?a.format("HH:mm"):""},function(a){k(),i()});var l=function(a,b){for(var c=0;c<b.length;c++)b[c].display=c,a&&(b[c].display+=12);return b};f.params.shortTime||a.$watch("picker.meridien",function(){if(!e&&a.points){var b=l(f.isPM(),angular.copy(a.points));a.points=b}}),a.setTime=function(b){b===a.currentValue&&f.ok(),e?f.currentDate.minute(b):f.currentDate.hour(f.isPM()?b+12:b),f.currentDate.second(0)},a.pointAvailable=function(a){return e?f.isMinuteAvailable(a.value):f.isHourAvailable(a.value)};var m=a.$watch(function(){return b[0].querySelectorAll("div").length},function(){h(),m()})}}}])}(moment);